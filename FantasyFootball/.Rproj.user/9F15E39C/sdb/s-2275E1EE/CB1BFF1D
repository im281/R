{
    "collab_server" : "",
    "contents" : "library(data.table)\nsource('FFfunctions.R')\nsource('FootballOptimizer.R')\n\n#fanduel data http://rotoguru1.com/cgi-bin/fyday.pl?week=1&game=fd&scsv=1\n#2015 stats\n#read the player FFP tables######################################################################################\nw1 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week1.txt', sep = ';',stringsAsFactors = FALSE)\nw2 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week2.txt', sep = ';',stringsAsFactors = FALSE)\nw3 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week3.txt', sep = ';',stringsAsFactors = FALSE)\nw4 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week4.txt', sep = ';',stringsAsFactors = FALSE)\nw5 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week5.txt', sep = ';',stringsAsFactors = FALSE)\nw6 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week6.txt', sep = ';',stringsAsFactors = FALSE)\n\nw7 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week7.txt', sep = ';',stringsAsFactors = FALSE)\nw8 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week8.txt', sep = ';',stringsAsFactors = FALSE)\nw9 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week9.txt', sep = ';',stringsAsFactors = FALSE)\nw10 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week10.txt', sep = ';',stringsAsFactors = FALSE)\nw11 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week11.txt', sep = ';',stringsAsFactors = FALSE)\nw12 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week12.txt', sep = ';',stringsAsFactors = FALSE)\n\nw13 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week13.txt', sep = ';',stringsAsFactors = FALSE)\nw14 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week14.txt', sep = ';',stringsAsFactors = FALSE)\nw15 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week15.txt', sep = ';',stringsAsFactors = FALSE)\nw16 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week16.txt', sep = ';',stringsAsFactors = FALSE)\nw17 <- read.csv('C:/Users/Owner/Source/Repos/R/FantasyFootball/2015/Week17.txt', sep = ';',stringsAsFactors = FALSE)\n###################################################################################################################\n\n#2016 stats########################################################################################################\nw18 <- read.csv('Week1.txt', sep = ';',stringsAsFactors = FALSE)\nw19 <- read.csv('Week2.txt', sep = ';',stringsAsFactors = FALSE)\n###################################################################################################################\n\n#append the tables on thh row\np <- data.table(rbind(w1,w2,w3,w4,w5,w6,w7,w8,w9,w10,w11,w12,w13,w14,w15,w16,w17,w18,w19))\n\n#subset the player tables so it doesn't contain defensive data\np <- p[which(p$Name %like% \"Defense\" == FALSE)]\n\n#read the multidimensional defense tables\n#NFL stats page http://www.nfl.com/stats/team?seasonId=2015&seasonType=REG&Submit=Go\n\n#Mergin tables######################################################################################################\n\n#2015 run pass and total defense\nrunD15 <- data.table(read.csv('2015RunD.txt',sep = \"\\t\"))\npassD15 <- data.table(read.csv('2015PassD.txt',sep = \"\\t\"))\ntotalD15 <- data.table(read.csv('2015TotalD.txt',sep =\"\\t\"))\n\n#merge 2015 stats to one table\nrunandpass2015 <- merge(runD15,passD15,by=\"Team\")\nrunandpassandtotal2015 <- merge(runandpass2015 ,totalD15,by=\"Team\")\nrunandpassandtotal2015[,\"Year\"] <- 2015\n\n#2016 run pass and total defense\nrunD16 <- data.table(read.csv('2016RunD.txt',sep = \"\\t\"))\npassD16 <- data.table(read.csv('2016PassD.txt',sep = \"\\t\"))\ntotalD16 <- data.table(read.csv('2016TotalD.txt',sep =\"\\t\"))\nrunandpassandtotal2015[,\"Year\"] <- 2016\n\n#merge 2015 stats to one table\nrunandpass2016 <- merge(runD16,passD16,by=\"Team\")\nrunandpassandtotal2016 <- merge(runandpass2016 ,totalD16,by=\"Team\")\n\n#row bind\nfinalD <- rbind(runandpassandtotal2015,runandpassandtotal2016,fill=TRUE)\nd <- finalD\n#####################################################################################################################\n\n\n#add team ID column names (to cbind using column IDs)\np[,\"TeamID\"] <- 0\nd[,\"TeamID\"] <- 0\n\n\nplayers <- AssignTeamIDs(p)\ndefenses <- AssignTeamIDsDefense(d)\n\nsetkey(players,'TeamID')\nsetkey(defenses,'TeamID')\n\n\n#join the tables on Team ID. Player and the opposing team\nmatrix = merge(players,defenses, by='TeamID',allow.cartesian = TRUE)\nwrite.csv(matrix,'ffd2.csv')\n\n\n\n#Experiment##########################################################################################################\npath <- 'C:/Users/Owner/Source/Repos/R/FantasyFootball/Fanduel/FanDuel-NFL-2016-09-25-16406-players-SunOnly-list.csv'\nt <- data.table(read.csv(path,stringsAsFactors = FALSE))\nidData<- data.table(read.csv('RotoguruPlayerIds.csv',stringsAsFactors = FALSE))\n\ninput <- ConvertFanduelCSV(t,idData)\ninput[,\"TeamID\"] <- 0\nexperiment <- AssignTeamIDs(input)\nsetkey(experiment,'TeamID')\n\nmyexp <- merge(experiment,defenses, by='TeamID',allow.cartesian = TRUE)\nwrite.csv(myexp,'week3Sun4PMOnlyexp.csv')\n#####################################################################################################################\n\n\n\n##TESTS##############################################################################################################\n\nffd <- data.table(read.csv('ffd2.csv'))\nmyexp <- data.table(read.csv('week3exp.csv'))\nmyexp[,\"Year\"] <- 2016\n\n\n\ndata1 <- data.table(read.csv('Week3Sun4PMOnlyPredictions.csv'))\nres <- RunOptimizer(data1)\n\n#onlt numeric columns\ndt <- data1[sapply(data1,is.numeric)]\ncor(dt)\n\n#regression\n# Multiple Linear Regression Example \nfit <- lm(data1$Scored.Labels ~ data1$Rk.y + data1$Yds.x + data1$FD.salary + data1$TD.y + data1$TotPts.y + data1$TD.x + data1$X3rd.Pct, data=data1)\nsummary(fit) # show result\n\n# diagnostic plots \n#layout(matrix(c(1,2,3,4),2,2)) # optional 4 graphs/page \nplot(fit)\n\n\n\n\n\n\n# Other useful functions \ncoefficients(fit) # model coefficients\nconfint(fit, level=0.95) # CIs for model parameters \nfitted(fit) # predicted values\nresiduals(fit) # residuals\nanova(fit) # anova table \nvcov(fit) # covariance matrix for model parameters \ninfluence(fit) # regression diagnostics\n\n\n\n\n\n#example###############\ny <- c(1,2,3,4,5)\nx <-c(1,2,3,4,5)\nfit <- lm(y ~ x)\nsummary(fit) # show results\n\n\n\n\n\n######################################################################################################################\n\n\n\n",
    "created" : 1474424502189.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2091911824",
    "id" : "CB1BFF1D",
    "lastKnownWriteTime" : 1474591844,
    "last_content_update" : 1474645972190,
    "path" : "C:/Users/Owner/Source/Repos/R/FantasyFootball/Tests.R",
    "project_path" : "Tests.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 9,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}